# GLOBAL variables
ubuntu_baseurl: &ubuntu_baseurl http://archive.ubuntu.com/ubuntu
mos_baseurl: &mos_baseurl http://mirror.fuel-infra.org/mos-repos/ubuntu/$mos_version
mos92_baseurl: &mos92_baseurl http://mirror.fuel-infra.org/mos-repos/ubuntu/9.2

fuel_release_match:
   version: $openstack_version
   operating_system: Ubuntu

# Main is a required parameter which defines what repository will be used
# for images creation and that mirror should contain all packages for minimal
# system creation.
repos:
    -   &ubuntu
        main: true
        name: "ubuntu"
        uri: *ubuntu_baseurl
        suite: "xenial"
        section: "main multiverse restricted universe"
        type: "deb"
        priority: null

    -   &ubuntu_updates
        name: "ubuntu-updates"
        uri: *ubuntu_baseurl
        suite: "xenial-updates"
        section: "main multiverse restricted universe"
        type: "deb"
        priority: null

    -   &ubuntu_security
        name: "ubuntu-security"
        uri: *ubuntu_baseurl
        suite: "xenial-security"
        section: "main multiverse restricted universe"
        type: "deb"
        priority: null

    -   &mos
        name: "mos"
        uri: "http://2.6.1.2:8080/ubuntu/x86_64"
        suite: "mos$mos_version"
        section: "main restricted"
        type: "deb"
        priority: 1050

    -   &mos_updates
        name: "mos-updates"
        uri: *mos_baseurl
        suite: "mos$mos_version-updates"
        section: "main restricted"
        type: "deb"
        priority: 1050

    -   &mos_security
        name: "mos-security"
        uri: *mos_baseurl
        suite: "mos$mos_version-security"
        section: "main restricted"
        type: "deb"
        priority: 1050

    -   &mos_holdback
        name: "mos-holdback"
        uri: *mos_baseurl
        suite: "mos$mos_version-holdback"
        section: "main restricted"
        type: "deb"
        priority: 1100

# Packages are required to build bootstrap images for a system.
# The mirror should contiain such packages in addition to local mirror.
packages: &packages
     - "daemonize"
     - "fuel-agent"
     - "hwloc"
     - "i40e-dkms"
     - "linux-firmware"
     - "linux-headers-generic"
     - "live-boot"
     - "live-boot-initramfs-tools"
     - "mc"
     - "mcollective"
     - "msmtp-mta"
     - "multipath-tools"
     - "multipath-tools-boot"
     - "nailgun-agent"
     - "nailgun-mcagents"
     - "network-checker"
     - "ntp"
     - "ntpdate"
     - "openssh-client"
     - "openssh-server"
     - "puppet"
     - "squashfs-tools"
     - "ubuntu-minimal"
     - "vim"
     - "wget"
     - "xz-utils"
     - "sysfsutils"
     - "bridge-utils"
     - "ifenslave"
     - "irqbalance"
     - "iputils-arping"
     - "apt-transport-https"
     - "linux-image-generic-lts-xenial"
     - "cloud-init"
     - "linux-headers-generic-lts-xenial"
     - "telnet"
     - "ubuntu-standard"
     - "anacron"
     - "rsyslog-gnutls"


groups:
    mos:
        - *mos
        - *mos_updates
        - *mos_security
        - *mos_holdback

    ubuntu:
        - *ubuntu
        - *ubuntu_updates
        - *ubuntu_security


inheritance:
    ubuntu: mos

osnames:
    mos: ubuntu

requirements:
    ubuntu: *packages
